"use strict";(self.webpackChunkusa_visa_booking_website=self.webpackChunkusa_visa_booking_website||[]).push([[452],{452:(e,t,i)=>{i.r(t),i.d(t,{EmailJSResponseStatus:()=>r,default:()=>w,init:()=>a,send:()=>g,sendForm:()=>f});class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},s=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const i=s(e);o.publicKey=i.publicKey,o.blockHeadless=i.blockHeadless,o.storageProvider=i.storageProvider,o.blockList=i.blockList,o.limitRate=i.limitRate,o.origin=i.origin||t};var n=i(379);const l=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=await fetch(o.origin+e,{method:"POST",headers:i,body:t}),a=await s.text(),n=new r(s.status,a);if(s.ok)return n;throw n},c=(e,t,i)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||"string"!==typeof i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},d=e=>e.webdriver||!e.languages||0===e.languages.length,m=()=>new r(451,"Unavailable For Headless Browser"),h=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const i=(r=t,o=e.watchVariable,r instanceof FormData?r.get(o):r[o]);var r,o;return"string"===typeof i&&e.list.includes(i)},p=()=>new r(403,"Forbidden"),b=async(e,t,i)=>{if(!t.throttle||!i)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,o=await(async(e,t,i)=>{const r=Number(await i.get(e)||0);return t-Date.now()+r})(r,t.throttle,i);return o>0||(await i.set(r,Date.now().toString()),!1)},u=()=>new r(429,"Too Many Requests"),g=async(e,t,i,r)=>{const a=s(r),g=a.publicKey||o.publicKey,f=a.blockHeadless||o.blockHeadless,w=a.storageProvider||o.storageProvider,v=(0,n.A)((0,n.A)({},o.blockList),a.blockList),y=(0,n.A)((0,n.A)({},o.limitRate),a.limitRate);if(f&&d(navigator))return Promise.reject(m());if(c(g,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(i),i&&h(v,i))return Promise.reject(p());if(await b(location.pathname,y,w))return Promise.reject(u());const k={lib_version:"4.4.1",user_id:g,service_id:e,template_id:t,template_params:i};return l("/api/v1.0/email/send",JSON.stringify(k),{"Content-type":"application/json"})},f=async(e,t,i,r)=>{const a=s(r),g=a.publicKey||o.publicKey,f=a.blockHeadless||o.blockHeadless,w=o.storageProvider||a.storageProvider,v=(0,n.A)((0,n.A)({},o.blockList),a.blockList),y=(0,n.A)((0,n.A)({},o.limitRate),a.limitRate);if(f&&d(navigator))return Promise.reject(m());const k=(e=>"string"===typeof e?document.querySelector(e):e)(i);c(g,e,t),(e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(k);const j=new FormData(k);return h(v,j)?Promise.reject(p()):await b(location.pathname,y,w)?Promise.reject(u()):(j.append("lib_version","4.4.1"),j.append("service_id",e),j.append("template_id",t),j.append("user_id",g),l("/api/v1.0/email/send-form",j))},w={init:a,send:g,sendForm:f,EmailJSResponseStatus:r}}}]);
//# sourceMappingURL=452.f3a344b6.chunk.js.map